"""Pytest config file.

Test is a class regrouping the elements that define a test for PyTest.
    
      @ivar(name):
    The name of the Test must uniquely determine the
    test. Among others, it will be used to identify the test's results
    ( pytest/*_results/name/ ) and to report test informations.
      @type(name):
    String
    
      @ivar(description):
    The description must provide other users an
    insight of what exactly is the Test testing. You are encouraged
    to used triple quoted strings for indented multi-lines
    descriptions.
      @type(description):
    String
    
      @ivar(program):
    The program to be run by the Test. The Program
    class currently has four subclasses: LocalProgram,
    GlobalProgram, LocalCompilableProgram and
    GlobalCompilableProgram. The Local prefix specifies that the
    program executable should be found in the same directory than the
    pytest.config file, while Global means that the program is a
    global command. Currently, this mechanism only support commands that
    are in one of the <plearn_branch>/commands/ directory.
    
    The Compilable tag specifies that the program must be compiled.
    The default compiler is pymake, but this behaviour can be changed
    and/or compile options may be specified.
    
      @type(program):
    Program
    
      @ivar(arguments):
    The command line arguments to be passed to the program
    for the test to proceed.
      @type(arguments):
    String
    
      @ivar(resources):
    A list of resources that are used by your program either
    in the command line or directly in the code (plearn or pyplearn files, 
databases, ...).
    The elements of the list must be string representations of the path, 
absolute or relative,
    to the resource.
      @type(resources):
    List of Strings
    
"""
Test(
    name = "EmbeddedPython_BasicIdentityCalls",
    description = "Tests the core of PythonCodeSnippet through identity function calls in Python",
    program = GlobalCompilableProgram(
        name = "plearn_tests",
        compiler = "pymake",
        compile_options = ""
        ),
    arguments = "PLEARNDIR:scripts/command_line_object.plearn 'object=BasicIdentityCallsTest(save = 0)'",
    resources = [ ],
    disabled = False
    )

Test(
    name = "EmbeddedPython_InterfunctionXchg",
    description = "Test data exchange within a single snippet and exception mapping",
    program = GlobalCompilableProgram(
        name = "plearn_tests",
        compiler = "pymake",
        compile_options = ""
        ),
    arguments = "PLEARNDIR:scripts/command_line_object.plearn 'object=InterfunctionXchgTest(save = 0)'",
    resources = [ ],
    disabled = False
    )

Test(
    name = "EmbeddedPython_MemoryStressTest",
    description = "Call a great number of functions to detect memory leaks",
    program = GlobalCompilableProgram(
        name = "plearn_tests",
        compiler = "pymake",
        compile_options = ""
        ),
    arguments = "PLEARNDIR:scripts/command_line_object.plearn 'object=MemoryStressTest(save = 0)'",
    resources = [ ],
    disabled = False
    )

### This test is disabled for now as it relies on non-portable behavior.
Test(
    name = "EmbeddedPython_TrampolineTest",
    description = "Make sure the basic mechanism of Python calling back C++ works",
    program = LocalCompilableProgram(
        name = "test_trampoline",
        compiler = "pymake",
        compile_options = ""
        ),
    arguments = "",
    resources = [ ],
    disabled = True
    )

Test(
    name = "EmbeddedPython_InjectionTest",
    description = "Test the ability to inject standalone and bound C++ function into Python",
    program = GlobalCompilableProgram(
        name = "plearn_tests",
        compiler = "pymake",
        compile_options = ""
        ),
    arguments = "PLEARNDIR:scripts/command_line_object.plearn 'object=InjectionTest(save = 0)'",
    resources = [ ],
    disabled = False
    )
